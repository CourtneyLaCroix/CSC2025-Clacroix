Microsoft (R) Macro Assembler Version 14.43.34809.0	    04/25/25 10:45:00
itoa.asm						     Page 1 - 1


				.386P
				.model flat

				extern _ExitProcess@4: near
				extern _GetStdHandle@4: near
				extern _ReadConsoleA@20: near
				extern writeLine: near

 00000000			.data

 00000000 FF 00			return_string	DB	255, 0


 00000000			.code

 00000000			itoa PROC near

 00000000			_itoa:
 00000000  52				push	edx
 00000001  53				push	ebx
 00000002  57				push	edi
 00000003  55				push	ebp
 00000004  8B EC			mov		ebp, esp

					
 00000006  BB 000000FF			mov		ebx, 255		

 0000000B			_next_digit:
					
 0000000B  33 D2			xor		edx, edx
 0000000D  BF 0000000A			mov		edi, 10		;divide by 10
 00000012  F7 F7			div		edi
					

 00000014  4B				dec		ebx
 00000015  83 C2 30			add		edx, '0'	;convert to ascii
 00000018  88 93 00000000 R		mov     [return_string + ebx], dl

 0000001E  83 F8 00			cmp		eax, 0			;check for remainder of 0     (has the remainder)
 00000021  74 02			jz		_no_more_digits

 00000023  EB E6			jmp		_next_digit

 00000025			_no_more_digits:
 00000025  81 C3 00000000 R		add		ebx, offset return_string

					
 0000002B  8B D3			mov		edx, ebx
 0000002D  52				push	edx
 0000002E  E8 00000000 E		call	writeLine

 00000033  8B E5			mov		esp, ebp	;snap back to EBP
 00000035  5D				pop		ebp			;restore callers EBP
 00000036  5F				pop		edi
 00000037  5B				pop		ebx
 00000038  5A				pop		edx
 00000039  C3				ret

 0000003A			itoa ENDP

				END
Microsoft (R) Macro Assembler Version 14.43.34809.0	    04/25/25 10:45:00
itoa.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
_DATA  . . . . . . . . . . . . .	32 Bit	 00000002 Para	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 0000003A Para	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

itoa . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000003A Public
  _itoa  . . . . . . . . . . . .	L Near	 00000000 _TEXT	
  _next_digit  . . . . . . . . .	L Near	 0000000B _TEXT	
  _no_more_digits  . . . . . . .	L Near	 00000025 _TEXT	


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000000h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
_ExitProcess@4 . . . . . . . . .	L Near	 00000000 FLAT	External
_GetStdHandle@4  . . . . . . . .	L Near	 00000000 FLAT	External
_ReadConsoleA@20 . . . . . . . .	L Near	 00000000 FLAT	External
return_string  . . . . . . . . .	Byte	 00000000 _DATA	
writeLine  . . . . . . . . . . .	L Near	 00000000 FLAT	External

	   0 Warnings
	   0 Errors
